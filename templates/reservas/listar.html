{% extends "base.html" %}
{% block content %}
<h2>Reservas</h2>
<div class="reservas-grid">
  {% for reserva in reservas %}
  <div class="reserva-card horizontal">
    <div class="reserva-img">
      {% if reserva.viaje.imagen %}
        <img src="{{ url_for('static', filename='img/' ~ reserva.viaje.imagen) }}" alt="Imagen de {{ reserva.viaje.nombre }}">
      {% else %}
        <img src="https://via.placeholder.com/220x160?text=Sin+imagen" alt="Sin imagen">
      {% endif %}
    </div>
    <div class="reserva-info">
      <h3>{{ reserva.viaje.nombre }}</h3>
      <p><strong>Nombre:</strong> {{ reserva.nombre }}</p>
      <p><strong>Email:</strong> {{ reserva.email }}</p>
      <p><strong>Fecha:</strong> {{ reserva.fecha }}</p>
      <p><strong>Mensaje:</strong> {{ reserva.mensaje }}</p>
      <div class="reserva-acciones">
        <a class="btn-crud" href="{{ url_for('editar_reserva', id=reserva.id) }}">Editar</a>
        <form action="{{ url_for('eliminar_reserva', id=reserva.id) }}" method="post" style="display:inline;">
          <button type="submit" class="btn-crud btn-crud-outline" onclick="return confirm('Â¿Seguro que deseas cancelar la reserva?');">Cancelar Reserva</button>
        </form>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}